<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>CentOS_7éƒ¨ç½²NginxæœåŠ¡</title>
      <link href="/2018/06/03/CentOS-7%E9%83%A8%E7%BD%B2Nginx%E6%9C%8D%E5%8A%A1/"/>
      <url>/2018/06/03/CentOS-7%E9%83%A8%E7%BD%B2Nginx%E6%9C%8D%E5%8A%A1/</url>
      <content type="html"><![CDATA[<p>æ²¡å®Œæ•´çš„å»ºè¿‡ç«™ï¼Œäºæ˜¯æŠŠé—²ç½®çš„æ¬ç“¦å·¥ç”¨èµ·æ¥ã€‚</p><h2 id="å®‰è£…Nginx"><a href="#å®‰è£…Nginx" class="headerlink" title="å®‰è£…Nginx"></a>å®‰è£…Nginx</h2><p>ç”¨ç»ˆç«¯è¿æ¥VPS<br><code>ssh root@ip_address -p port</code><br>æ¢æˆå¯¹åº”çš„ipåœ°å€å’Œç«¯å£ï¼Œè¾“å…¥æ­£ç¡®å¯†ç åå°±æˆåŠŸè¿æ¥ã€‚</p><p><code>yum install nginx</code> å®‰è£…nginxå¤±è´¥ï¼Œæç¤ºï¼šæ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ… nginx</p><p>æºé‡Œæ²¡æœ‰é‚£å°±ç›´æ¥ä»å®˜ç½‘ä¸‹å¥½äº†</p><p><code>rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</code></p><p>å†å®‰è£…å°±æˆåŠŸäº†ã€‚</p><h2 id="å¯åŠ¨Nginx"><a href="#å¯åŠ¨Nginx" class="headerlink" title="å¯åŠ¨Nginx"></a>å¯åŠ¨Nginx</h2><p><code>systemctl start nginx</code></p><p>å¦‚æœå¯åŠ¨æˆåŠŸå°±å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®IPåœ°å€çœ‹åˆ°å–œé—»ä¹è§çš„ <strong>Welcome to nginx!</strong></p><h2 id="OpenSSLç”ŸæˆCSRæ–‡ä»¶ç”³è¯·SSLè¯ä¹¦"><a href="#OpenSSLç”ŸæˆCSRæ–‡ä»¶ç”³è¯·SSLè¯ä¹¦" class="headerlink" title="OpenSSLç”ŸæˆCSRæ–‡ä»¶ç”³è¯·SSLè¯ä¹¦"></a>OpenSSLç”ŸæˆCSRæ–‡ä»¶ç”³è¯·SSLè¯ä¹¦</h2><p>DogDaddyä¸Šæ³¨å†Œäº†ä¸€ä¸ª<code>.app</code>çš„åŸŸåï¼Œè¿˜é€äº†ä¸€å¹´è¯ä¹¦ï¼Œä¹Ÿæ­£å¥½ç”¨èµ·æ¥ã€‚</p><p><code>openssl req -new -nodes -sha256 -newkey rsa:2048 -keyout myprivate.key -out mydomain.csr</code></p><p>new: ç”Ÿæˆä¸€ä¸ªæ–°çš„CSR<br>nodes: ç§é’¥æ–‡ä»¶ä¸è¢«åŠ å¯†<br>sha256: æ‘˜è¦ç®—æ³•<br>keyout: ç”Ÿæˆç§é’¥,<br>newkey rsa:2048: æŒ‡å®šç§é’¥ç±»å‹å’Œé•¿<br>mydomain.csr: æœ€åç”Ÿæˆçš„æ–‡ä»¶å</p><p>æ‰§è¡Œä¸Šé¢å‘½ä»¤åä¼šè¦æ±‚è¾“å…¥ä»¥ä¸‹å†…å®¹</p><table><thead><tr><th>å†…å®¹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>Country Name</td><td>å›½å®¶ä»£ç </td><td>CN</td></tr><tr><td>State or Province Name</td><td>çœä»½</td><td>Beijing</td></tr><tr><td>Locality Name</td><td>åŸå¸‚</td><td>Beijing</td></tr><tr><td>Organization Name</td><td>ç»„ç»‡åç§°</td><td></td></tr><tr><td>Organization Unit Name</td><td>éƒ¨é—¨åç§°</td><td>IT</td></tr><tr><td>Common Name</td><td>è¯ä¹¦ç”³è¯·åŸŸå</td><td>example.app</td></tr><tr><td>A challenge password</td><td>æŸä¸ªå¯†ç </td><td>å¯ä¸å¡«</td></tr><tr><td>Email Address</td><td>é‚®ä»¶</td><td>æˆ‘æ²¡å¡«</td></tr></tbody></table><p>æœ€ååœ¨å‘½ä»¤æ‰€åœ¨ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ª<code>myprivate.key</code> å’Œä¸€ä¸ª <code>mydomain.csr</code>ï¼Œåˆ†åˆ«ä¸ºç§é’¥å’ŒCSRç”³è¯·æ–‡ä»¶ã€‚</p><p>ğŸ¶çˆ¹æ·»åŠ è¯ä¹¦çš„æ—¶å€™å°±æŠŠCSRæ–‡ä»¶é‡Œçš„å†…å®¹æ‹·è¿›å»ï¼Œç”³è¯·ä¸€ä¸‹å°±ç­‰ç€é‚®ä»¶é€šçŸ¥ç­¾å‘è¯ä¹¦ã€‚</p><h2 id="å®‰è£…è¯ä¹¦"><a href="#å®‰è£…è¯ä¹¦" class="headerlink" title="å®‰è£…è¯ä¹¦"></a>å®‰è£…è¯ä¹¦</h2><p><a href="https://www.secureserver.net/help/article/27192?prog_id=504762" target="_blank" rel="noopener">NGINX on CentOS 7: Install a Certificate</a></p><h3 id="é€šè¿‡scpæ‹·è´æ–‡ä»¶è‡³vps"><a href="#é€šè¿‡scpæ‹·è´æ–‡ä»¶è‡³vps" class="headerlink" title="é€šè¿‡scpæ‹·è´æ–‡ä»¶è‡³vps"></a>é€šè¿‡scpæ‹·è´æ–‡ä»¶è‡³vps</h3><p>åŸºæœ¬æ ¼å¼ä¸ºï¼šscp -P [ç«¯å£å·] [æºæ–‡ä»¶è·¯å¾„] root@ip_address:[ç›®æ ‡è·¯å¾„]</p><p><strong>-Pä¸€å®šè¦å¤§å†™ï¼</strong> é»˜è®¤ç«¯å£å¯çœç•¥ -P [ç«¯å£å·]</p><h3 id="ä¹Œé¾™"><a href="#ä¹Œé¾™" class="headerlink" title="ä¹Œé¾™"></a>ä¹Œé¾™</h3><p>å› ä¸ºæˆ‘æ³¨å†Œäº†ä¸ª<code>.app</code>åç¼€çš„åŸŸåï¼Œè¯ä¹¦ä¸‹è½½ä¸‹æ¥æ˜¯<code>domain.app</code>è¢«Macè¯†åˆ«æˆAPPäº†ï¼Œè¦æ˜¾ç¤ºåŒ…å†…å®¹æ‰èƒ½çœ‹åˆ°é‡Œé¢ä¸¤ä¸ª<code>.crt</code>æ–‡ä»¶ã€‚</p><h3 id="ç¼–è¾‘é…ç½®æ–‡ä»¶"><a href="#ç¼–è¾‘é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘é…ç½®æ–‡ä»¶"></a>ç¼–è¾‘é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@host /]<span class="comment"># nginx -t</span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br></pre></td></tr></table></figure><p><code>/etc/nginx/nginx.conf</code>å°±æ˜¯é…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">server</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="string">listen</span> <span class="number">80</span><span class="string">;</span></span><br><span class="line">            <span class="string">server_name</span> <span class="string">coolexample.com;</span></span><br><span class="line">            <span class="string">return</span> <span class="number">301</span> <span class="attr">https://$host$request_uri;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">server</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">listen</span> <span class="number">443</span> <span class="string">ssl;</span></span><br><span class="line"></span><br><span class="line">        <span class="string">server_name</span> <span class="string">coolexample.com;</span></span><br><span class="line">        <span class="string">ssl_certificate</span>     <span class="string">/etc/nginx/ssl/coolexample.crt;</span></span><br><span class="line">        <span class="string">ssl_certificate_key</span> <span class="string">/etc/nginx/ssl/coolexample.key;</span></span><br><span class="line"></span><br><span class="line">        <span class="string">root</span> <span class="string">/usr/share/nginx/coolexample.com/;</span></span><br><span class="line">        <span class="string">index</span> <span class="string">index.php</span>  <span class="string">index.html</span> <span class="string">index.htm;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥å¯¹åº”çš„é…ç½®~</p><p><code>root</code>æ˜¯å¯¹åº”ç«™ç‚¹çš„è·Ÿç›®å½•ï¼Œèµ·åˆæ²¡å†™ã€‚å¯¼è‡´ä½¿ç”¨httpsè®¿é—®ä¼š404</p><p><code>sudo service nginx restart</code>é‡å¯æœåŠ¡ååº”è¯¥å¯ä»¥ç”Ÿæ•ˆäº†ï¼Œå¦‚æœé‡å¯å¤±è´¥å¯ä»¥é€šè¿‡<code>nginx -t</code>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜</p><p>æ„‰æ‚¦~</p>]]></content>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> CentOS7 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>EchartsåŠ¨æ€åŠ è½½GeoJSONåœ°å›¾</title>
      <link href="/2018/06/02/Echarts%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDGeoJSON/"/>
      <url>/2018/06/02/Echarts%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDGeoJSON/</url>
      <content type="html"><![CDATA[<h2 id="Echartsç›‘å¬GEOåœ°å›¾ç¼©æ”¾æ¯”ä¾‹"><a href="#Echartsç›‘å¬GEOåœ°å›¾ç¼©æ”¾æ¯”ä¾‹" class="headerlink" title="Echartsç›‘å¬GEOåœ°å›¾ç¼©æ”¾æ¯”ä¾‹"></a>Echartsç›‘å¬GEOåœ°å›¾ç¼©æ”¾æ¯”ä¾‹</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">myChart.on(<span class="string">'georoam'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  console.log(arguments);</span></span><br><span class="line">    <span class="comment">// å›è°ƒå‡½æ•°è‡ªå¸¦çš„resä¸­zoomæ°¸è¿œéƒ½æ˜¯1.1</span></span><br><span class="line">    <span class="built_in">console</span>.log(myChart.getOption().geo[<span class="number">0</span>].zoom);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æŒ‰éœ€åŠ è½½GEOJSON"><a href="#æŒ‰éœ€åŠ è½½GEOJSON" class="headerlink" title="æŒ‰éœ€åŠ è½½GEOJSON"></a>æŒ‰éœ€åŠ è½½GEOJSON</h2><p>æŸä¸ªéœ€æ±‚è¦æ±‚çš„æ˜¯ç‚¹äº®ç”¨æˆ·å»è¿‡çš„åœ°æ–¹ï¼Œå›½å†…åˆ°åŸå¸‚ã€å›½å¤–ç²¾ç¡®åˆ°å·ã€‚</p><p>åœ¨Echartså®˜æ–¹ä»“åº“ä¸­æ‰¾åˆ°<a href="https://github.com/pissang/starbucks" target="_blank" rel="noopener"><strong>starbucks</strong></a>ï¼Œå†…å«å„ä¸ªå·çš„GEOæ•°æ®ã€‚</p><p>ç›´è§‰å‘Šè¯‰æˆ‘åªè¦æ‹¼èµ·æ¥å°±èƒ½å®ç°wordæ•°æ®ä¸­åŒ…å«æ‰€æœ‰å·çš„ä¿¡æ¯ã€‚</p><h3 id="GEOJSON"><a href="#GEOJSON" class="headerlink" title="GEOJSON"></a>GEOJSON</h3><p><a href="https://www.oschina.net/translate/geojson-spec?lang=chs&amp;page=1#" target="_blank" rel="noopener">æ ¼å¼è§„èŒƒè¯´æ˜</a></p><p><img src="https://i.loli.net/2018/05/30/5b0e443bb5e1e.png" alt="carbon.png"></p><p>å¤§è‡´å°±æ˜¯è¿™æ ·ä¸€ä¸ªç»“æ„ã€å…·ä½“çš„é”®å€¼å«ä¹‰è§„èŒƒä¸­æœ‰è¯´æ˜ã€‚<code>features</code>æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æè¿°çš„æ˜¯<strong>ä¸€å—åŒºåŸŸ</strong>ã€‚é‚£ä¹ˆæŠŠ<code>world.json</code>é‡Œç¼ºå¤±çš„æ›´ç»†é¢—ç²’åº¦çš„åŒºåŸŸä¹ŸåŠ è¿›æ¥å°±ojbkäº†ã€‚</p><h3 id="å¤šä½™çš„key"><a href="#å¤šä½™çš„key" class="headerlink" title="å¤šä½™çš„key"></a>å¤šä½™çš„key</h3><p>ä¸Šé¢ç»“æ„å¤šäº†<code>UTF8Encoding</code> <code>encodeOffsets</code> <code>name</code> è¿™å‡ ä¸ªkeyï¼Œåœ¨æ ¼å¼è§„èŒƒä¸­ä¸æ˜¯å¿…é¡»çš„ï¼Œçœ‹äº†ä¸‹<code>Echarts</code>å¤„ç†JSONéƒ¨åˆ†çš„æºç æ˜¯æœ‰ç”¨åˆ°çš„ï¼Œç”¨äºdecode JSONæ–‡ä»¶ã€‚</p><h3 id="æ‹¼æ¥"><a href="#æ‹¼æ¥" class="headerlink" title="æ‹¼æ¥"></a>æ‹¼æ¥</h3><p>èµ·åˆç›´æ¥å°†ä¸¤ä¸ªJSONå¯¹è±¡çš„<code>features</code>è¿›è¡Œåˆå¹¶<code>world.features.concat(china.features)</code></p><p>å¤±è´¥äº†ï¼Œåˆå‡ºæ¥çš„JSONè™½ç„¶ç¬¦åˆè§„èŒƒï¼Œä½†æ˜¯å¹¶ä¸æ­£ç¡®ï¼Œæ¸²æŸ“å‡ºæ¥ä¸¥é‡ç•¸å½¢ã€‚</p><p><img src="https://i.loli.net/2018/05/30/5b0e47c808ca9.png" alt="ä»€ä¹ˆé¬¼(#`Oâ€²)"></p><p>ç»è¿‡å¯¹æ¯”ï¼Œ<code>world.json</code>ä¸­çš„<code>coordinates</code>å­—æ®µä¸ºç»çº¬åº¦ï¼Œ<code>china.json</code>ä¸­åˆ™ä¸ºEncodeå¤„ç†åçš„ç»çº¬åº¦ã€‚</p><p>Debugæºç å‘ç°ç”±<code>UTF8Encoding</code>æ§åˆ¶æ˜¯å¦å¯¹JSONå†…å®¹è¿›è¡ŒDecodeï¼Œäºæ˜¯ç»™åˆå¹¶åçš„JSONæ•°æ®åŠ ä¸Š<code>UTF8Encoding = true</code>ï¼Œç„¶ååˆå¤±è´¥äº†ã€‚</p><p>æ§åˆ¶å°æŠ›å‡ºå¼‚å¸¸ï¼š<code>Invalid geoJson format; coordinate.charCodeAt is not a function</code></p><p>å–µå–µå–µ??  decodeå®Œå°±æ ¼å¼å°±ä¸å¯¹äº†â€¦<br>Debugæºç æ‰¾åˆ°åŸå› ï¼Œ<code>UTF8Encoding</code>ä¸ºtrueå¼€å¯decodeåï¼Œå¯¹æ•´ä¸ªlistè¿›è¡Œdecodeæ“ä½œï¼Œdecodeæ“ä½œåˆè¦ç”¨åˆ°<code>encodeOffsets</code>ï¼Œ<code>world.json</code>æ²¡æœ‰è¿™ä¸ªkeyï¼Œæ‰€ä»¥å°±å—å±äº†ã€‚</p><p>åœ¨æ‹¼æ¥JSONå‰å…ˆæŠŠJSONç»™decodeå¥½ï¼Œä¸å°±æ²¡é—®é¢˜äº†ä¹ˆï¼Œè¯•äº†ä¸€ä¸‹æœç„¶æå®šäº†ã€‚</p><h3 id="çœ‹ä¸ªæ•ˆæœ"><a href="#çœ‹ä¸ªæ•ˆæœ" class="headerlink" title="çœ‹ä¸ªæ•ˆæœ"></a>çœ‹ä¸ªæ•ˆæœ</h3><p><img src="https://i.loli.net/2018/06/02/5b122a8887373.gif" alt="Jun-02-2018 13-25-09.gif"></p>]]></content>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
